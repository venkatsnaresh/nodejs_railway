graph TD;
  A[🎭 User Initiates Donation/Subscription] -->|✔ Choose Plan/Donation| B[💳 Payment Processing via Razorpay];
  B -->|✅ Payment Successful| C[📲 Webhook Event Received];
  B -->|❌ Payment Failed| D[🔁 Retry Payment];
  C -->|✅ Update Payment Status| E[🔓 Unlock Features or Acknowledge Donation];
  D -->|✅ Retry Payment| B;
  
  style A fill:#ffcc00,stroke:#000,stroke-width:2px;
  style B fill:#66ccff,stroke:#000,stroke-width:2px;
  style C fill:#66ff66,stroke:#000,stroke-width:2px;
  style D fill:#ff6666,stroke:#000,stroke-width:2px;
  style E fill:#66ffcc,stroke:#000,stroke-width:2px;
  
  classDef smooth fill:#f9f9f9,stroke:#aaa,stroke-width:1px;
  class A,B,C,D,E smooth;
